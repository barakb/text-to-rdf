# Optimized Configuration for High-Quality RDF Extraction
#
# This configuration has been tuned for maximum F1 scores on WebNLG evaluation
#
# Copy this to your .env file: cp .env.optimized .env

# ==================== LLM Configuration ====================

# API Key (REQUIRED for cloud models)
GENAI_API_KEY=your-api-key-here

# Recommended Models (by quality/cost):
# - claude-3-5-sonnet-20241022  (Best: 85-95% F1, $$$)
# - gpt-4o                      (Great: 80-90% F1, $$)
# - gemini-1.5-pro              (Good: 75-85% F1, $)
# - llama3.3:70b (Ollama)       (Fair: 65-75% F1, Free - local)

RDF_EXTRACTION_MODEL=claude-3-5-sonnet-20241022

# Temperature: Lower = more deterministic/accurate
# 0.0 = Most deterministic (recommended for production)
# 0.1 = Slight creativity allowed
# 0.3 = Default (balanced)
GENAI_TEMPERATURE=0.1

# Max tokens for response
GENAI_MAX_TOKENS=4096

# ==================== Extraction Configuration ====================

# Max retry attempts when validation fails
# Higher = more chances to correct errors, but slower
# Recommended: 5 for production, 3 for development
RDF_EXTRACTION_MAX_RETRIES=5

# Strict validation with error feedback (Instructor pattern)
# Always keep this enabled for quality
RDF_EXTRACTION_STRICT_VALIDATION=true

# Inject hardcoded @context to prevent LLM URI hallucinations
# Always keep this enabled
RDF_EXTRACTION_INJECT_CONTEXT=true

# Optional: Use cheaper model for simple extractions
# Example: Use llama3.2:3b for entity classification, claude-3-5-sonnet for relations
# RDF_EXTRACTION_SIMPLE_MODEL=llama3.2:3b

# ==================== Target Ontologies ====================

# Comma-separated list of ontologies to use
RDF_ONTOLOGIES=https://schema.org/

# ==================== Entity Linking (Optional) ====================

# Enable entity linking to canonical URIs
ENTITY_LINKING_ENABLED=false

# Strategy: local, dbpedia, wikidata, or none
ENTITY_LINKING_STRATEGY=none

# Confidence threshold for entity linking (0.0-1.0)
ENTITY_LINKING_CONFIDENCE=0.7

# Fuzzy matching for entity names
ENTITY_LINKING_FUZZY_MATCHING=true
ENTITY_LINKING_FUZZY_THRESHOLD=0.85

# LLM disambiguation when multiple candidates found
ENTITY_LINKING_LLM_DISAMBIGUATION=true
ENTITY_LINKING_MIN_CANDIDATES_FOR_LLM=2

# For local strategy: path to knowledge base
# ENTITY_LINKING_KB_PATH=/path/to/your/knowledge-base.ttl

# For remote strategies: service URL
# ENTITY_LINKING_SERVICE_URL=https://api.dbpedia-spotlight.org/en

# ==================== GLiNER (Optional Feature) ====================

# Path to GLiNER ONNX model directory
# Download: huggingface-cli download onnx-community/gliner_medium-v2.1
# GLINER_MODEL_PATH=models/gliner_medium-v2.1

# Entity types to recognize
# GLINER_ENTITY_TYPES=Person,Organization,Place,Event,Product,Date

# Confidence threshold for GLiNER predictions
# GLINER_CONFIDENCE=0.6

# Number of threads for ONNX inference (0 = auto)
# GLINER_THREADS=0

# ==================== Expected Performance ====================
#
# With these settings, you should achieve:
# - F1 Score: 80-95% on WebNLG dataset (depending on model)
# - Precision: 85-95%
# - Recall: 80-90%
#
# To evaluate:
#   cargo run --example webnlg_evaluation
#
# If scores are low (<70%), check:
# 1. Model quality (use claude-3-5-sonnet or gpt-4o)
# 2. Temperature too high (lower to 0.1)
# 3. Max retries too low (increase to 5)
